<!DOCTYPE html>
{% load staticfiles %}
<html lang="es">
  <head>
    <style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 15px;
}
</style>
    <meta charset="UTF-8"/>
    <title>Vertical timeline intervals</title>
    <link rel="stylesheet" href="{% static 'css/status.css' %}" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  </head>
  <body>
  <!--<div>{{details | safe}}</div>-->
    <div class="container">

  <div style="float:left; position: absolute;" id="tables">

    <table>
      <tr>
        <th>NAME</th>
        <th>DETAIL</th>

      </tr>
      <tr>
        <td>CRIME_TYPE</td>
        <td id="field-1"></td>
      </tr>
      <tr>
        <td>FIR LOCATION</td>
        <td id="field-2"></td>
      </tr>
      <tr>
        <td>CRIME DECRIPTION</td>
        <td id="field-3"></td>
      </tr>
      <tr>
        <td>COMPLAINEE</td>
        <td id="field-4"></td>
      </tr>
      <tr>
        <td>DATE OF CRIME</td>
        <td id="field-5"></td>
      </tr>
      <tr>
        <td>TIME OF CRIME</td>
        <td id="field-6"></td>
      </tr>
      <tr>
        <td>PHONE</td>
        <td id="field-7"></td>
      </tr>
    </table>
   </div>
      <ul id = "outer_ul" style="float: right;">
        <!--<li><span></span>-->
          <!--<div>-->
            <!--<div class="title">{{reports}}</div>-->
            <!--<div class="info">Let&apos;s make coolest things in css</div>-->
            <!--<div class="type">Presentation</div>-->
          <!--</div> <span class="number"><span>10:00</span> <span>12:00</span></span>-->
        <!--</li>-->
      </ul>
    </div>
  <script>
    $( document ).ready(function() {
        var reports =JSON.parse( '{{ reports|escapejs }}');
        var details = JSON.parse( '{{ details|escapejs }}');
        var i;
        console.log(details);

        var f1=document.getElementById("field-1");
        f1.innerHTML=details[0].fields.CRIME_TYPE;
        f1=document.getElementById("field-2");
        f1.innerHTML=details[0].fields.FIR_LOC;
        f1=document.getElementById("field-3");
        f1.innerHTML=details[0].fields.CRIME_DESCRIPTION;
        f1=document.getElementById("field-4");
        f1.innerHTML=details[0].fields.COMPLAINT_BY;
        f1=document.getElementById("field-5");
        f1.innerHTML=details[0].fields.DATE_CRIME;
        f1=document.getElementById("field-6");
        f1.innerHTML=details[0].fields.TIME_CRIME;
        f1=document.getElementById("field-7");
        f1.innerHTML=details[0].fields.PHONE;




        for(i=0;i<reports.length;i++){
          var ul = document.getElementById("outer_ul")
          var li = document.createElement("li");
          var div1 = document.createElement("div");
          var div = document.createElement("div");
          div1.classList.add('title');
          var div2 = document.createElement("div");
          console.log(reports[i]);
          div1.innerHTML = reports[i].fields.CURRENT_STATUS;
          div2.classList.add('info');
          div2.innerHTML = reports[i].fields.DESCRIPTION;
          console.log(reports[i].fields.TIME_OF_UPDATE);
          var date=reports[i].fields.TIME_OF_UPDATE;
          date=date.split("T");
          console.log(date[0] + " **** " + date[1]);
          time=date[1].split("Z");
          var div3 = document.createElement("div");
          var span = document.createElement("span");
          span.classList.add('number');
          var span1 = document.createElement("span");
          var span2 = document.createElement("span");
          span1.innerHTML=date[0]+"\n\n"+time[0];
//          span2.innerHTML=time[0]
          span.appendChild(span1);
//          span.appendChild(span2);
          div3.classList.add('type');

          li.appendChild(div);
          div.appendChild(div1);
          div.appendChild(div2);
          div.appendChild(div3);
          ul.appendChild(li);
          li.appendChild(span);
        }
    });
  </script>
  </body>
</html>